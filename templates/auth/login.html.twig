{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} - Login{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('js/default/background') }}
{% endblock %}

{% block body %}
    <div class="h-100 p-5 bg-light bg-opacity-25">
        <div class="row">
            <div class="col">
                <h2>Login</h2>
                <a href="{{ path('connect_google_start') }}" title="Google Login">
                    <img src="{{ asset('build/images/login-buttons/btn_google_signin_dark_normal_web.png') }}"
                         alt="Google Login">
                </a>
            </div>
            {% if app.environment in ['dev', 'test'] %}
                <div class="col">
                    <h2>Dev</h2>
                    <form class="form-inline" role="form" method="post" action="{{ path('login') }}">
                        {% if error %}
                            <div class="alert alert-danger">
                                {{ error.message }}
                            </div>
                        {% endif %}

                        <div class="form-group">
                            <input id="identifier" class="form-control" name="identifier"
                                   value="{{ last_username }}"
                                   placeholder="email" required autofocus>
                        </div>

                        <input type="hidden" name="_csrf_token" value="{{ csrf_token('login') }}">
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary">Login</button>
                        </div>
                    </form>
                </div>
            {% endif %}
        </div>
    </div>
{% endblock %}
